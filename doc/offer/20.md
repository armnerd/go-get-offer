# 表示数值的字符串

## 题目

请实现一个函数用来判断字符串str是否表示数值（包括科学计数法的数字，小数和整数）

科学计数法的数字(按顺序）可以分成以下几个部分:
1. 若干空格
2. 一个整数或者小数
3. （可选）一个 'e' 或 'E' ，后面跟着一个整数(可正可负)
4. 若干空格

小数（按顺序）可以分成以下几个部分：
1. 若干空格
2. （可选）一个符号字符（'+' 或 '-'）
3. 可能是以下描述格式之一:
    3.1 至少一位数字，后面跟着一个点 '.'
    3.2 至少一位数字，后面跟着一个点 '.' ，后面再跟着至少一位数字
    3.3 一个点 '.' ，后面跟着至少一位数字
4. 若干空格

整数（按顺序）可以分成以下几个部分：

1. 若干空格
2. （可选）一个符号字符（'+' 或 '-')
3. 至少一位数字
4. 若干空格

例如，字符串["+100","5e2","-123","3.1416","-1E-16"]都表示数值
但是["12e","1a3.14","1.2.3","+-5","12e+4.3"]都不是数值

提示:
1. 1 <= str.length <= 25
2. str 仅含英文字母（大写和小写），数字（0-9），加号 '+' ，减号 '-' ，空格 ' ' 或者点 '.' 
3. 如果怀疑用例是不是能表示为数值的，可以使用python的print(float(str))去查看

进阶：时间复杂度O(n)，空间复杂度O(n)

## 示例

输入："123.45e+6"
返回值：true

## 思路

> 有限状态自动机

* 确定状态

0. 起始的空格
1. 符号位
2. 整数部分
3. 左侧有整数的小数点
4. 左侧无整数的小数点
5. 小数部分
6. 幂符号 e 或 E
7. 指数符号位
8. 指数阶数
9. 末尾的空格

> 易知，接受状态为 2、3、5、8、9，剩下的状态为拒绝状态

* 状态转移规则

1. 当 c 为空格时，执行 t = ’ ’
2. 当 c 为正负号时，执行 t = ‘s’
3. 当 c 为数字时，执行 t = ‘d’
4. 当 c 为 e，E 时，执行 t = ‘e’
5. 当 c 为 . 时，执行 t = ‘.’
6. 否则，执行 t = ‘?’，代表为不属于判断范围的非法字符，后续直接返回 false

## 实现

```go
func isNumeric(s string) bool {
	var states = []map[rune]int{
		{' ': 0, 's': 1, 'd': 2, '.': 4}, //	0
		{'d': 2, '.': 4},                 //	1
		{'d': 2, '.': 3, 'e': 6, ' ': 9}, //	2
		{'d': 5, ' ': 9, 'e': 6},         //	3
		{'d': 5},                         //	4
		{'d': 5, 'e': 6, ' ': 9},         //	5
		{'s': 7, 'd': 8},                 //	6
		{'d': 8},                         //	7
		{'d': 8, ' ': 9},                 //	8
		{' ': 9},                         //	9
	}

	state := 0
	var t rune
	for _, v := range s {
		if v == ' ' {
			t = ' '
		} else if v == '+' || v == '-' {
			t = 's'
		} else if v >= '0' && v <= '9' {
			t = 'd'
		} else if v == '.' {
			t = '.'
		} else if v == 'e' || v == 'E' {
			t = 'e'
		} else {
			t = '?'
		}
		if _, ok := states[state][t]; !ok {
			return false
		}
		state = states[state][t]
	}
	return state == 2 || state == 3 || state == 5 || state == 8 || state == 9
}
```